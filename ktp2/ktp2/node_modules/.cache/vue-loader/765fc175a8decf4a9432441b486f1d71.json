{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\src\\views\\CourseMember\\CourseMember.vue?vue&type=style&index=0&id=5551dba5&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\src\\views\\CourseMember\\CourseMember.vue","mtime":1592744233731},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_css-loader@3.6.0@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5vdXRlciB7CiAgd2lkdGg6IDEyMjRweDsKICBwYWRkaW5nLXRvcDogMTEycHg7CiAgcGFkZGluZy1ib3R0b206IDYwcHg7CiAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgbWFyZ2luLXJpZ2h0OiBhdXRvOwp9Cgp1bCB7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KCi5jb250ZW50IHsKICBiYWNrZ3JvdW5kOiAjRkZGOwogIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjI2LCAyMzAsIDIzNywgMSk7CgogIG1pbi1oZWlnaHQ6IDYwMHB4OwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgem9vbTogMTsKfQoKLmxzdHlsZSB7CiAgd2lkdGg6IDI4NnB4OwogIG1pbi1oZWlnaHQ6IDMwMHB4OwogIGZsb2F0OiBsZWZ0Owp9CgoubHN0eWxlIHVsIGxpIHsKICBoZWlnaHQ6IDU1cHg7CiAgbGluZS1oZWlnaHQ6IDU1cHg7CiAgcGFkZGluZzogMCAyNHB4OwogIGN1cnNvcjogcG9pbnRlcjsKICBmb250LXdlaWdodDogNTAwOwogIGNvbG9yOiByZ2JhKDU5LCA2MSwgNjksIDEpOwogIGZvbnQtZmFtaWx5OiBQaW5nRmFuZ1NDLU1lZGl1bTsKICBmb250LXNpemU6IDE2cHg7CiAgYm9yZGVyLXJhZGl1czogOHB4IDAgMDsKICBsaXN0LXN0eWxlOiBub25lOwp9CgoubHN0eWxlIHVsIGxpOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTRlZGZkOwp9CgoubHN0eWxlIHVsIGxpLmFjdGl2ZSB7CiAgYmFja2dyb3VuZDogIzMyQkFGMCAhaW1wb3J0YW50OwogIGNvbG9yOiAjRkZGOwp9CgoucnN0eWxlIHsKICB3aWR0aDogOTM2cHg7CiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCByZ2JhKDIyNiwgMjMwLCAyMzcsIDEpOwogIG1pbi1oZWlnaHQ6IDYwMHB4OwogIG1hcmdpbi1sZWZ0OiAtMXB4OwogIGZsb2F0OiBsZWZ0Owp9CgoubWVtYmVycyAudGl0dGxlIHsKICBwYWRkaW5nOiAwIDEycHggMCAyNXB4OwogIGhlaWdodDogNTVweDsKICBiYWNrZ3JvdW5kOiByZ2JhKDI0MSwgMjQzLCAyNDQsIDEpOwogIGJvcmRlci1yYWRpdXM6IDAgOHB4IDAgMDsKICBsaW5lLWhlaWdodDogNTVweDsKfQoKLm1lbWJlcnMgdWwgewogIHBhZGRpbmctYm90dG9tOiA2MHB4OwogIG1heC1oZWlnaHQ6IDQzMHB4OwogIG92ZXJmbG93LXk6IHNjcm9sbDsKICBvdmVyZmxvdy14OiBoaWRkZW47Cn0KCi5tZW1iZXJzIHVsIGxpIHsKICBoZWlnaHQ6IDYwcHg7CiAgcGFkZGluZzogMCAyNXB4OwogIGxpc3Qtc3R5bGU6IG5vbmU7Cn0KCi5tZW1iZXJzIHVsIGxpIHAudG5hbWUgewogIHdpZHRoOiAzMDBweDsKfQoKLm1lbWJlcnMgdWwgbGkgcC5zbmFtZSB7CiAgd2lkdGg6IDE1MHB4Owp9CgoubWVtYmVycyB1bCBsaSBwIHsKICBmbG9hdDogbGVmdDsKICBtYXJnaW4tcmlnaHQ6IDIwcHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwp9CgoubWVtYmVycyB1bCBsaTpob3ZlciB7CiAgYmFja2dyb3VuZDogcmdiYSgyNDEsIDI0MywgMjQ0LCAxKTsKfQoKLnRuYW1lIGltZyB7CiAgd2lkdGg6IDMwcHg7CiAgaGVpZ2h0OiAzMHB4OwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICBtYXJnaW4tdG9wOiAxNXB4Owp9Cgouc25hbWUgaW1nIHsKICB3aWR0aDogMzBweDsKICBoZWlnaHQ6IDMwcHg7CiAgYm9yZGVyLXJhZGl1czogNTAlOwogIG1hcmdpbi10b3A6IDE1cHg7Cn0KCi5tZW1iZXJzIHVsIGxpIHAudG5hbWUgc3BhbiB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIG1heC13aWR0aDogMjAwcHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogIHZlcnRpY2FsLWFsaWduOiB0b3A7CiAgbWFyZ2luLXRvcDogMjBweDsKfQoKLm1lbWJlcnMgdWwgbGkgcC5zbmFtZSBzcGFuIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgbWF4LXdpZHRoOiAyMDBweDsKICBvdmVyZmxvdzogaGlkZGVuOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgdmVydGljYWwtYWxpZ246IHRvcDsKICBsaW5lLWhlaWdodDogMjBweDsKfQoKLm1haWwgewogIG1pbi13aWR0aDogMTUwcHg7CiAgbWF4LXdpZHRoOiAxMDBweDsKICBtYXJnaW4tdG9wOiAyMHB4Owp9CgouZGVsZXRlIHsKICBjdXJzb3I6IHBvaW50ZXIKfQoKbGkudG5hbWUgPiBwLm1haWwgewogIHdpZHRoOiAzMDBweDsKfQoKbGkuc25hbWUgPiBwLm1haWwgewogIHdpZHRoOiAzMDBweDsKfQoKLmhpZGUgewogIGRpc3BsYXk6IG5vbmU7Cn0KCi5lbC1wYWdpbmF0aW9uIHsKICBwYWRkaW5nOiAycHggNDAwcHg7Cn0KCi5lbC1jaGVja2JveCB7CiAgZmxvYXQ6IGxlZnQ7Cn0KCi5zdHUtbGlzdCBwIHsKICB3aWR0aDogMTUwcHg7Cn0KLnN0dS1saXN0IHA6bGFzdC1jaGlsZCB7CiAgdGV4dC1hbGlnbjogcmlnaHQ7Cn0K"},{"version":3,"sources":["CourseMember.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsNA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"CourseMember.vue","sourceRoot":"src/views/CourseMember","sourcesContent":["<template>\n  <div class=\"outer\">\n    <course-member-nav :cname=\"cname\" :cno=\"$route.params.cno\" @back=\"back\" />\n\n    <div class=\"content\">\n      <div class=\"lstyle\">\n        <div>\n          <ul>\n            <li :class=\"{active:isActive===1}\" @click=\"change(1)\">教学团队（{{teaCount}}）</li>\n            <li :class=\"{active:isActive===2}\" @click=\"change(2)\" style=\"border-radius: 0%;\">全部学生（学生{{stuCount}}）</li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"rstyle\">\n        <div class=\"members\">\n          <div class=\"tittle\">\n            <span :class=\"{hide:isActive!=1}\">教学团队（老师{{teaCount}}）</span>\n            <span :class=\"{hide:isActive!=2}\">全部学生（学生{{stuCount}}）</span>\n          </div>\n          <div class=\"tittle\" v-if=\"$store.state.permission == '2'\" :class=\"{hide:isActive!=2}\" style=\"background-color: white;\">\n            <span>\n              <el-checkbox @change=\"selectAll()\" style=\"margin-right: 30px;\" v-model=\"checked\">全选 已选（{{multipleSelection.length}}）人\n              </el-checkbox>\n              <el-button type=\"primary\" :disabled=\"multipleSelection.length == 0\" @click=\" delAll\">删除成员</el-button>\n            </span>\n          </div>\n          <ul :class=\"{hide:isActive!=1}\">\n            <li v-for=\"(item,index) in teachers\">\n              <p class=\"tname\">\n                <span style=\"margin-left: 24px;margin-top: 20px;\" :title=\"item.name\">{{item.name}}</span>\n              </p>\n              <p class=\"mail\" title=\"item.userId\">{{item.userId}}</p>\n              <span style=\"line-height: 60px;\">（{{item.identifyNo}}）</span>\n            </li>\n          </ul>\n          <ul :class=\"{hide:isActive!=2}\">\n            <li class=\"stu-list\" v-for=\"(item,index) in students\">\n              <el-checkbox v-if=\"$store.state.permission == '2'\" v-model=\"checkStatus[index]\" style=\"line-height: 55px;margin-right: 30px;\"\n                           @change.stop.native=\"mutiplySelectionMethod(item, index)\">\n              </el-checkbox>\n              <p class=\"sname\">\n                <span style=\"margin-left: 24px;margin-top: 20px;\" :title=\"item.name\">{{item.name}}</span>\n              </p>\n              <p style=\"margin-left: 50px;margin-top: 20px;\" :title=\"item.userId\">{{item.userId}}</p>\n              <p class=\"mail\" title=\"item.identifyNo\">{{item.identifyNo}}</p>\n              <p v-if=\"$store.state.permission == '2'\" @click=\"delHandle(index)\" class=\"delete\" style=\"line-height: 60px;color:#32BAF0;\">删除</p>\n            </li>\n\n\n          </ul>\n          <!-- 删除提示框 -->\n          <el-dialog title=\"提示\" :visible.sync=\"delVisible\" width=\"300px\" center>\n            <div class=\"del-dialog-cnt\">删除不可恢复，是否确定删除？</div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"cancle\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"deleteRow\">确 定</el-button>\n            </span>\n          </el-dialog>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {request} from '../../network/request'\n  import CourseMemberNav from 'components/content/CourseMemberNav'\n  import axios from 'axios'\n\n\n  export default {\n    name: \"CourseMember\",\n    components: {\n      CourseMemberNav\n    },\n    data() {\n      return {\n        teachers: [],\n        students: [],\n        stuCount: 0,\n        teaCount: 0,\n        isActive: 1,\n        checked: false,\n        delVisible: false, //删除框状态\n        delarr: [], //删除数据\n        multipleSelection: [], //多选数据\n        checkStatus: [],\n        cname: ''\n      };\n    },\n    mounted() {\n      const courseConfig = request({\n        url: '/api/course/getCourseByCno',\n        method: 'get',\n        params: {\n          cno: this.$route.params.cno\n        }\n      })\n\n      const userConfig = request({\n        url: '/api/userList',\n        method: 'get',\n        params: {\n          cno: this.$route.params.cno\n        }\n      })\n\n      axios.all([courseConfig, userConfig])\n      .then(axios.spread((res1, res2) => {\n        this.cname = res1.data.name\n\n        this.students = res2.data.filter(e => e.permission.pid == '1')\n        this.teachers = res2.data.filter(e => e.permission.pid == '2')\n        this.stuCount = this.students.length\n        this.teaCount = this.teachers.length\n        // 初始化\n        this.checkStatus = this.students.map(e => {\n          return false\n        })\n      })).catch(err => {console.log(err)})\n\n    },\n    methods: {\n      change(num) {\n        this.isActive = num\n      },\n\n      //单删\n      delHandle(index) {\n        this.delVisible = true\n        this.delarr.push(this.students[index])\n      },\n      //多删\n      delAll() {\n        this.delVisible = true\n        this.delarr = this.multipleSelection\n        this.multipleSelection = []\n      },\n      //多选\n      mutiplySelectionMethod(item, index) {\n        for (let item of this.checkStatus) {\n          if (item == false) {\n            this.checked = false\n            break\n          }\n          this.checked = true\n        }\n        if (this.multipleSelection.indexOf(item) == -1)\n          this.multipleSelection.push(item)\n        else\n          this.multipleSelection.remove(item)\n      },\n      //全选\n      selectAll() {\n        for (let i in this.checkStatus) {\n          this.checkStatus[i] = this.checked\n        }\n        if(this.checked == true) {\n          this.multipleSelection = [...this.students];\n        }else {\n          this.multipleSelection =[]\n        }\n\n      },\n      clearSelect() {\n        this.checkStatus = this.students.map(e => false)\n      },\n      deleteRow() {\n        // 删除在删除数组中的所有数据\n        // 取差集\n        request({\n          url: '/api/course/deleteMembers?cno=' + this.$route.params.cno,\n          method: 'post',\n          data: this.delarr\n        }).then(res => {\n          if (res.data) {\n            this.students = this.students.filter(v => this.delarr.indexOf(v) == -1)\n            this.delarr = []\n            this.stuCount = this.students.length\n            this.delVisible = false\n            this.clearSelect()\n          }\n        },\n        )\n\n      },\n      back() {\n        if (this.$store.state.permission == '2') {\n          this.$router.push(`/teachertask/${this.$route.params.cno}`)\n        } else {\n          this.$router.push(`/studenttask/${thios.$route.params.cno}`)\n        }\n      },\n\n      //取消操作\n      cancle(){\n        this.delarr = []\n        this.multipleSelection = []\n        this.delVisible = false\n        this.clearSelect()\n      }\n    },\n\n  };\n\n  Array.prototype.remove = function (val) {\n    var index = this.indexOf(val);\n    if (index > -1) {\n      this.splice(index, 1);\n    }\n  }\n</script>\n\n<style scoped>\n  .outer {\n    width: 1224px;\n    padding-top: 112px;\n    padding-bottom: 60px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  ul {\n    margin: 0;\n    padding: 0;\n  }\n\n  .content {\n    background: #FFF;\n    border: 1px solid rgba(226, 230, 237, 1);\n\n    min-height: 600px;\n    border-radius: 8px;\n    position: relative;\n    zoom: 1;\n  }\n\n  .lstyle {\n    width: 286px;\n    min-height: 300px;\n    float: left;\n  }\n\n  .lstyle ul li {\n    height: 55px;\n    line-height: 55px;\n    padding: 0 24px;\n    cursor: pointer;\n    font-weight: 500;\n    color: rgba(59, 61, 69, 1);\n    font-family: PingFangSC-Medium;\n    font-size: 16px;\n    border-radius: 8px 0 0;\n    list-style: none;\n  }\n\n  .lstyle ul li:hover {\n    background-color: #e4edfd;\n  }\n\n  .lstyle ul li.active {\n    background: #32BAF0 !important;\n    color: #FFF;\n  }\n\n  .rstyle {\n    width: 936px;\n    border-left: 1px solid rgba(226, 230, 237, 1);\n    min-height: 600px;\n    margin-left: -1px;\n    float: left;\n  }\n\n  .members .tittle {\n    padding: 0 12px 0 25px;\n    height: 55px;\n    background: rgba(241, 243, 244, 1);\n    border-radius: 0 8px 0 0;\n    line-height: 55px;\n  }\n\n  .members ul {\n    padding-bottom: 60px;\n    max-height: 430px;\n    overflow-y: scroll;\n    overflow-x: hidden;\n  }\n\n  .members ul li {\n    height: 60px;\n    padding: 0 25px;\n    list-style: none;\n  }\n\n  .members ul li p.tname {\n    width: 300px;\n  }\n\n  .members ul li p.sname {\n    width: 150px;\n  }\n\n  .members ul li p {\n    float: left;\n    margin-right: 20px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  .members ul li:hover {\n    background: rgba(241, 243, 244, 1);\n  }\n\n  .tname img {\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    margin-top: 15px;\n  }\n\n  .sname img {\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    margin-top: 15px;\n  }\n\n  .members ul li p.tname span {\n    display: inline-block;\n    max-width: 200px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    vertical-align: top;\n    margin-top: 20px;\n  }\n\n  .members ul li p.sname span {\n    display: inline-block;\n    max-width: 200px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    vertical-align: top;\n    line-height: 20px;\n  }\n\n  .mail {\n    min-width: 150px;\n    max-width: 100px;\n    margin-top: 20px;\n  }\n\n  .delete {\n    cursor: pointer\n  }\n\n  li.tname > p.mail {\n    width: 300px;\n  }\n\n  li.sname > p.mail {\n    width: 300px;\n  }\n\n  .hide {\n    display: none;\n  }\n\n  .el-pagination {\n    padding: 2px 400px;\n  }\n\n  .el-checkbox {\n    float: left;\n  }\n\n  .stu-list p {\n    width: 150px;\n  }\n  .stu-list p:last-child {\n    text-align: right;\n  }\n</style>\n"]}]}