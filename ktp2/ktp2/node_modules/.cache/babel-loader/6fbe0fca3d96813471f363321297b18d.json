{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\src\\router\\index.js","mtime":1592718292274},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_babel-loader@8.1.0@babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCAqIGFzIG10IGZyb20gJy4uL3N0b3JlL211dGF0aW9uLXR5cGUnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIC8vIOeZu+W9lQogIHBhdGg6ICcnLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCd2aWV3cy9Mb2dpbi9Mb2dpbicpOwogIH0KfSwgewogIC8vIOazqOWGjAogIHBhdGg6ICcvcmVnaXN0ZXInLAogIG5hbWU6ICdSZWdpc3RlcicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCd2aWV3cy9Mb2dpbi9SZWdpc3RlcicpOwogIH0KfSwgewogIC8vIOmmlumhtQogIHBhdGg6ICcvaG9tZScsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgndmlld3MvSG9tZS9Ib21lJyk7CiAgfSwKICBtZXRhOiB7CiAgICByZXF1aXJlQXV0aDogdHJ1ZQogIH0KfSwgewogIC8vIOS4quS6uuS/oeaBr+euoeeQhumhtemdogogIHBhdGg6ICcvcHJvZmlsZScsCiAgbmFtZTogJ1Byb2ZpbGUnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgndmlld3MvUHJvZmlsZS9Qcm9maWxlJyk7CiAgfSwKICBtZXRhOiB7CiAgICByZXF1aXJlQXV0aDogdHJ1ZQogIH0KfSwgewogIC8vIOa2iOaBr+afpeeci+mhtemdogogIHBhdGg6ICcvbWVzc2FnZScsCiAgbmFtZTogJ01lc3NhZ2UnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgndmlld3MvTWVzc2FnZS9NZXNzYWdlJyk7CiAgfSwKICBtZXRhOiB7CiAgICByZXF1aXJlQXV0aDogdHJ1ZQogIH0KfSwgewogIC8vIOaVmeW4iOWPkeW4g+afpeeci+iHquW3seWPkeW4g+eahOS9nOS4muWSjOWPkeW4g+S9nOS4mueahOmhtemdogogIHBhdGg6ICcvdGVhY2hlcnRhc2svOmNubycsCiAgbmFtZTogJ1RlYWNoZXJUYXNrJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ3ZpZXdzL1Rhc2svVGVhY2hlclRhc2snKTsKICB9LAogIG1ldGE6IHsKICAgIHJlcXVpcmVBdXRoOiB0cnVlLAogICAgcGVybWlzc2lvbklzOiAyCiAgfQp9LCB7CiAgLy8g5a2m55Sf6L+b5YWl5p+Q5Liq6K++56iL55qE6aG16Z2iCiAgcGF0aDogJy9zdHVkZW50dGFzay86Y25vJywKICBuYW1lOiAnU3R1ZGVudFRhc2snLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgndmlld3MvVGFzay9TdHVkZW50VGFzaycpOwogIH0sCiAgbWV0YTogewogICAgcmVxdWlyZUF1dGg6IHRydWUsCiAgICBwZXJtaXNzaW9uSXM6IDEKICB9Cn0sIHsKICAvLyDlrabnlJ/mj5DkuqTkvZzkuJrnmoTpobXpnaIKICBwYXRoOiAnL3N0dWRlbnR0YXNrY29tbWl0Lzpjbm8vOnRubycsCiAgbmFtZTogJ1N0dWRlbnRUYXNrQ29tbWl0JywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ3ZpZXdzL1Rhc2svU3R1ZGVudFRhc2tDb21taXQnKTsKICB9LAogIG1ldGE6IHsKICAgIHJlcXVpcmVBdXRoOiB0cnVlLAogICAgcGVybWlzc2lvbklzOiAxCiAgfQp9LCB7CiAgLy8g5pWZ5biI5om55pS55L2c5Lia5omT5YiG55qE6aG16Z2iCiAgcGF0aDogJy90YXNrbWFyay86Y25vLzp0bm8nLAogIG5hbWU6ICdUYXNrTWFyaycsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCd2aWV3cy9UYXNrL1Rhc2tNYXJrJyk7CiAgfSwKICBtZXRhOiB7CiAgICByZXF1aXJlQXV0aDogdHJ1ZSwKICAgIHBlcm1pc3Npb25JczogMgogIH0KfSwgewogIC8vIOafkOmXqOivvueoi+eahOaIkOWRmOWxleekugogIHBhdGg6ICcvY291cnNlbWVtYmVyLzpjbm8nLAogIG5hbWU6ICdDb3Vyc2VNZW1iZXInLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgndmlld3MvQ291cnNlTWVtYmVyL0NvdXJzZU1lbWJlcicpOwogIH0sCiAgbWV0YTogewogICAgcmVxdWlyZUF1dGg6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL2Rpc2N1c3MvOmNuby86dG5vJywKICBuYW1lOiAnRGlzY3VzcycsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCd2aWV3cy9EaXNjdXNzL0Rpc2N1c3MnKTsKICB9LAogIG1ldGE6IHsKICAgIHJlcXVpcmVBdXRoOiB0cnVlCiAgfQp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXM6IHJvdXRlcwp9KTsgLy8g6Lev55Sx5oum5oiq5ZmoCgpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBpZiAodG8ubWV0YS5yZXF1aXJlQXV0aCkgewogICAgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5pc0xvZ2luICE9PSB1bmRlZmluZWQgJiYgd2luZG93LnNlc3Npb25TdG9yYWdlLmlzTG9naW4pIHsKICAgICAgLy8g6aqM6K+B5piv5ZCm6YCa6L+H5p2D6ZmQ6aqM6K+BCiAgICAgIGlmICh0by5tZXRhLnBlcm1pc3Npb25JcyA9PSB1bmRlZmluZWQgfHwgdG8ubWV0YS5wZXJtaXNzaW9uSXMgPT0gd2luZG93LnNlc3Npb25TdG9yYWdlLnBlcm1pc3Npb24pIHsKICAgICAgICBuZXh0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dCh7CiAgICAgICAgICBwYXRoOiAnL2hvbWUnCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIOacqueZu+W9leeKtuaAgQogICAgICBuZXh0KHsKICAgICAgICBwYXRoOiAnLycKICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIC8vIOWIpOaWreaYr+WQpuWtmOaciWNvb2tpZe+8jOacieWImeiHquWKqOeZu+W9lQogICAgaWYgKCRjb29raWVzLmdldCgndXNlcicpICE9IHVuZGVmaW5lZCkgewogICAgICBzdG9yZS5jb21taXQobXQuSVNfTE9HSU4sICRjb29raWVzLmdldCgndXNlcicpLmFjY291bnQpOwogICAgICBzdG9yZS5jb21taXQobXQuQ0hBTkdFX1VJRCwgJGNvb2tpZXMuZ2V0KCd1c2VyJykudWlkKTsKICAgICAgc3RvcmUuY29tbWl0KG10LlVTRVJfQVZBVEFSLCAkY29va2llcy5nZXQoJ3VzZXInKS5hdmF0YXIpOwogICAgICBzdG9yZS5jb21taXQobXQuUEVSTUlTU0lPTiwgJGNvb2tpZXMuZ2V0KCd1c2VyJykucGVybWlzc2lvbik7CiAgICAgIHN0b3JlLmNvbW1pdChtdC5DSEFOR0VfTkFNRSwgJGNvb2tpZXMuZ2V0KCd1c2VyJykubmFtZSk7CiAgICAgIG5leHQoJy9ob21lJyk7CiAgICB9IGVsc2UgewogICAgICAvLyDkuI3pnIDopoHpgJrov4fnmbvlvZXlsLHlj6/ku6Xojrflj5bliLDnmoTotYTmupAKICAgICAgbmV4dCgpOwogICAgfQogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["C:/Users/ASUS/Desktop/ktp2/ktp2/src/router/index.js"],"names":["Vue","VueRouter","mt","store","use","routes","path","name","component","meta","requireAuth","permissionIs","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","window","sessionStorage","isLogin","undefined","permission","$cookies","get","commit","IS_LOGIN","account","CHANGE_UID","uid","USER_AVATAR","avatar","PERMISSION","CHANGE_NAME"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport * as mt from '../store/mutation-type'\nimport store from '../store'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    // 登录\n    path: '',\n    name: 'Login',\n    component: () => import('views/Login/Login')\n  },\n  {\n    // 注册\n    path: '/register',\n    name: 'Register',\n    component: () => import('views/Login/Register')\n  },\n  {\n    // 首页\n    path: '/home',\n    name: 'Home',\n    component: () => import('views/Home/Home'),\n    meta: {\n      requireAuth: true\n    }\n  },\n  {\n    // 个人信息管理页面\n    path: '/profile',\n    name: 'Profile',\n    component: () => import('views/Profile/Profile'),\n    meta: {\n      requireAuth: true\n    }\n  },\n  {\n    // 消息查看页面\n    path: '/message',\n    name: 'Message',\n    component: () => import('views/Message/Message'),\n    meta: {\n      requireAuth: true\n    }\n  },\n  {\n    // 教师发布查看自己发布的作业和发布作业的页面\n    path: '/teachertask/:cno',\n    name: 'TeacherTask',\n    component: () => import('views/Task/TeacherTask'),\n    meta: {\n      requireAuth: true,\n      permissionIs: 2\n    }\n  },\n  {\n    // 学生进入某个课程的页面\n    path: '/studenttask/:cno',\n    name: 'StudentTask',\n    component: () => import('views/Task/StudentTask'),\n    meta: {\n      requireAuth: true,\n      permissionIs: 1\n    }\n  },\n  {\n    // 学生提交作业的页面\n    path: '/studenttaskcommit/:cno/:tno',\n    name: 'StudentTaskCommit',\n    component: () => import('views/Task/StudentTaskCommit'),\n    meta: {\n      requireAuth: true,\n      permissionIs: 1\n    }\n  },\n  {\n    // 教师批改作业打分的页面\n    path: '/taskmark/:cno/:tno',\n    name: 'TaskMark',\n    component: () => import('views/Task/TaskMark'),\n    meta: {\n      requireAuth: true,\n      permissionIs: 2\n    }\n  },\n  {\n    // 某门课程的成员展示\n    path: '/coursemember/:cno',\n    name: 'CourseMember',\n    component: () => import('views/CourseMember/CourseMember'),\n    meta: {\n      requireAuth: true\n    }\n  },\n  {\n    path: '/discuss/:cno/:tno',\n    name: 'Discuss',\n    component: () => import('views/Discuss/Discuss'),\n    meta: {\n      requireAuth: true\n    }\n  }\n\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n// 路由拦截器\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.requireAuth) {\n    if (window.sessionStorage.isLogin !== undefined && window.sessionStorage.isLogin) {\n      // 验证是否通过权限验证\n      if (to.meta.permissionIs == undefined || to.meta.permissionIs == window.sessionStorage.permission) {\n        next()\n      } else {\n        next({\n          path: '/home'\n        })\n      }\n    } else {\n      // 未登录状态\n      next({\n        path: '/',\n      })\n    }\n  } else {\n    // 判断是否存有cookie，有则自动登录\n    if ($cookies.get('user') != undefined) {\n      store.commit(mt.IS_LOGIN, $cookies.get('user').account)\n      store.commit(mt.CHANGE_UID, $cookies.get('user').uid)\n      store.commit(mt.USER_AVATAR, $cookies.get('user').avatar)\n      store.commit(mt.PERMISSION, $cookies.get('user').permission)\n      store.commit(mt.CHANGE_NAME, $cookies.get('user').name)\n\n      next('/home')\n    } else {\n      // 不需要通过登录就可以获取到的资源\n      next()\n    }\n  }\n})\n\nexport default router\n"]}]}