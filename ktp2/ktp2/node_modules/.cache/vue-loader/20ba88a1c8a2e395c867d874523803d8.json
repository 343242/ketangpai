{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\src\\views\\Home\\HomeCard.vue?vue&type=style&index=0&id=6ded7895&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\src\\views\\Home\\HomeCard.vue","mtime":1592466682000},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_css-loader@3.6.0@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\ktp2\\ktp2\\node_modules\\_vue-loader@15.9.2@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNhcmQgewogIHdpZHRoOiAyNzBweDsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIGJvcmRlcjogMXB4IHNvbGlkICNlMmU2ZWQ7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoKLyog5qCH6aKY6YOo5YiGICovCi50aXRsZSB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiA5NXB4OwogIHBhZGRpbmc6IDE4cHggMCAxNHB4IDA7CiAgYmFja2dyb3VuZDogIzQ4ZGJmYjsKICBib3JkZXItcmFkaXVzOiA4cHggOHB4IDAgMDsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgY29sb3I6ICNmZmY7Cn0KLnRpdGxlPmRpdjpmaXJzdC1jaGlsZCB7CiAgbWFyZ2luLWxlZnQ6IDE4cHg7CiAgbWFyZ2luLXJpZ2h0OiA0OHB4OwogIGZvbnQtc2l6ZTogMjBweDsKICAKfQoudGl0bGU+ZGl2OmZpcnN0LWNoaWxkPnNwYW4gewogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDApOwogIGN1cnNvcjogcG9pbnRlcjsKfQoudGl0bGU+ZGl2OmZpcnN0LWNoaWxkPnNwYW46aG92ZXIgewogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDEpOwp9Ci50aXRsZT5kaXY6bGFzdC1jaGlsZCB7CiAgZm9udC1mYW1pbHk6IFBpbmdGYW5nLVNDLU1lZGl1bTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbWFyZ2luLWxlZnQ6IDE4cHg7CiAgbWFyZ2luLXJpZ2h0OiAxOHB4OwogIHBhZGRpbmctbGVmdDogMnB4OwogIHBhZGRpbmctcmlnaHQ6IDRweDsKICBtYXJnaW4tdG9wOiAxM3B4Owp9Ci50aXRsZT5kaXY6bGFzdC1jaGlsZD5kaXY6Zmlyc3QtY2hpbGQgewogIGZsb2F0OiBsZWZ0OwogIG1hcmdpbi10b3A6IDQwcHg7CiAgZm9udC1zaXplOiAxNHB4Owp9Ci50aXRsZT5kaXY6bGFzdC1jaGlsZD5kaXY6bGFzdC1jaGlsZCB7CiAgbWFyZ2luLXRvcDogMzBweDsKICBmbG9hdDogcmlnaHQ7CiAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpOwogIGZvbnQtc2l6ZTogMTJweDsKfQoKLyog6L+R5pyf5L2c5Lia5pi+56S65oOF5Ya1ICovCi5ob21ld29yayB7CiAgbWFyZ2luLXRvcDogNXB4OwogIHBhZGRpbmc6IDAgMTZweDsKICBoZWlnaHQ6IDEwNXB4OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDIyNiwgMjMwLCAyMzcsIDEpOwp9Ci5ob21ld29yaz5kaXYgewogIGhlaWdodDogMzBweDsKICBsaW5lLWhlaWdodDogMzBweDsKICBmb250LXNpemU6IDE0cHg7Cn0KLmhvbWV3b3JrPmRpdjpmaXJzdC1jaGlsZCB7CiAgZm9udC13ZWlnaHQ6IDUwMDsKICBjb2xvcjogcmdiYSgzMSwzMiwzNSwuNyk7Cn0KCi5ib3R0b20gewogIGhlaWdodDogMzVweDsKICBsaW5lLWhlaWdodDogMzVweDsKICBmb250LXNpemU6IDEycHg7Cn0KLmJvdHRvbT5kaXY6Zmlyc3QtY2hpbGQgewogIGZsb2F0OiBsZWZ0OwogIG1hcmdpbi1sZWZ0OiAyMHB4OwogIGN1cnNvcjogcG9pbnRlcjsKfQouYm90dG9tPmRpdjpsYXN0LWNoaWxkIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgZmxvYXQ6IHJpZ2h0OwogIG1hcmdpbi1yaWdodDogMTBweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgY29sb3I6ICMwYWJkZTM7Cn0KCi5wcm9wIHsKICB3aWR0aDogMTI4cHg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJhY2tncm91bmQ6ICNmZmY7CiAgYm94LXNoYWRvdzogMXB4IDJweCAzcHggcmdiYSgwLDAsMCwuMik7CiAgcmlnaHQ6IDEwcHg7CiAgYm90dG9tOiAzMHB4OwogIHBhZGRpbmc6IDVweCAwOwogIGRpc3BsYXk6IG5vbmU7Cn0KLnByb3A+ZGl2IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDMwcHg7CiAgbGluZS1oZWlnaHQ6IDMwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5wcm9wPmRpdjpob3ZlciB7CiAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMSk7Cn0K"},{"version":3,"sources":["HomeCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomeCard.vue","sourceRoot":"src/views/Home","sourcesContent":["<template>\r\n  <div class=\"card\">\r\n    <div class=\"title\">\r\n      <!-- 课程名称 -->\r\n      <div><span @click=\"gotoTask\">{{course.name}}</span></div>\r\n      <!-- 加课吗和学期 -->\r\n      <div>\r\n        <div>加课码: {{course.cno}}</div>\r\n        <div>\r\n          <div>{{course.year}}</div>\r\n          <div>{{showSemester}}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"homework\">\r\n      <div>近期作业</div>\r\n      <div>无</div>\r\n    </div>\r\n\r\n    <div class=\"bottom\">\r\n      <div>成员{{memberNum}}人</div>\r\n      <div @click.stop=\"more\" class=\"prop-parent\">\r\n        更多\r\n        <!-- 弹窗 -->\r\n        <div class=\"prop\" v-if=\"course.admin.userId == this.$store.state.uid\">\r\n          <div @click=\"editCourse\">编辑</div>\r\n          <div @click=\"deleteCourse\">删除</div>\r\n          <div @click=\"archiveCourse\">归档</div>\r\n        </div>\r\n        <div class=\"prop\" v-else>\r\n          <div @click=\"deleteCourseMember\">退课</div>\r\n        </div>\r\n      </div>   \r\n    </div>\r\n  </div>  \r\n</template>\r\n\r\n<script>\r\nimport {request} from '../../network/request'\r\n\r\nexport default {\r\n  name: 'HomeCard',\r\n  props: {\r\n    course: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    index: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      works: [],\r\n      memberNum: 0,\r\n      addEvent: (e) => {\r\n          if (!this.$el.contains(e.target)) {\r\n          document.querySelector(`.prop${this.index+1}`).style.display = \"none\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    showSemester() {\r\n      return this.course.semester === \"1\" ? '第一学期' : '第二学期'\r\n    }\r\n  },\r\n  mounted() {\r\n    document.querySelector(\"div.prop-parent\").setAttribute(\"class\", `prop-parent${this.index+1}`)\r\n    document.querySelector(`.prop-parent${this.index+1}>.prop`).setAttribute(\"class\", `prop prop${this.index+1}`)\r\n\r\n    // 事件监听器\r\n    window.addEventListener('click', this.addEvent, false)\r\n\r\n    // 请求成员数量，只包含学生\r\n    request({\r\n      url: '/api/course/getMembers',\r\n      method: 'get',\r\n      params: {\r\n        cno: this.course.cno\r\n      }\r\n    }).then(res => {\r\n      this.memberNum = res.data\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  },\r\n  methods: {\r\n    more() {\r\n      document.querySelector(`.prop${this.index+1}`).style.display = \"block\"\r\n    },\r\n    editCourse() {\r\n      this.$emit('edit-course', this.course)\r\n    },\r\n    deleteCourse() {\r\n      this.$emit('delete-course', this.course)\r\n    },\r\n    archiveCourse() {\r\n      this.$emit('archive-course', this.course)\r\n    },\r\n    recoverStyle() {\r\n      // 还原事件，避免前端找不到事件而报差错\r\n\r\n      // 事件监听器\r\n      window.removeEventListener('click', this.addEvent, false)\r\n\r\n      // 还原\r\n      document.querySelector(`div.prop${this.index+1}`).setAttribute(\"class\", `prop`)\r\n      document.querySelector(`div.prop-parent${this.index+1}`).setAttribute(\"class\", `prop-parent`)\r\n    },\r\n    deleteCourseMember() {\r\n      this.$emit('drop-out', this.course)\r\n    },\r\n    gotoTask() {\r\n      this.$emit('goto-task', this.course)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .card {\r\n    width: 270px;\r\n    background: #fff;\r\n    border: 1px solid #e2e6ed;\r\n    border-radius: 8px;\r\n    position: relative;\r\n  }\r\n\r\n  /* 标题部分 */\r\n  .title {\r\n    width: 100%;\r\n    height: 95px;\r\n    padding: 18px 0 14px 0;\r\n    background: #48dbfb;\r\n    border-radius: 8px 8px 0 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: #fff;\r\n  }\r\n  .title>div:first-child {\r\n    margin-left: 18px;\r\n    margin-right: 48px;\r\n    font-size: 20px;\r\n    \r\n  }\r\n  .title>div:first-child>span {\r\n    border-bottom: 1px solid rgba(255, 255, 255, 0);\r\n    cursor: pointer;\r\n  }\r\n  .title>div:first-child>span:hover {\r\n    border-bottom: 1px solid rgba(255, 255, 255, 1);\r\n  }\r\n  .title>div:last-child {\r\n    font-family: PingFang-SC-Medium;\r\n    text-align: center;\r\n    margin-left: 18px;\r\n    margin-right: 18px;\r\n    padding-left: 2px;\r\n    padding-right: 4px;\r\n    margin-top: 13px;\r\n  }\r\n  .title>div:last-child>div:first-child {\r\n    float: left;\r\n    margin-top: 40px;\r\n    font-size: 14px;\r\n  }\r\n  .title>div:last-child>div:last-child {\r\n    margin-top: 30px;\r\n    float: right;\r\n    color: rgba(255, 255, 255, .8);\r\n    font-size: 12px;\r\n  }\r\n\r\n  /* 近期作业显示情况 */\r\n  .homework {\r\n    margin-top: 5px;\r\n    padding: 0 16px;\r\n    height: 105px;\r\n    border-bottom: 1px solid rgba(226, 230, 237, 1);\r\n  }\r\n  .homework>div {\r\n    height: 30px;\r\n    line-height: 30px;\r\n    font-size: 14px;\r\n  }\r\n  .homework>div:first-child {\r\n    font-weight: 500;\r\n    color: rgba(31,32,35,.7);\r\n  }\r\n\r\n  .bottom {\r\n    height: 35px;\r\n    line-height: 35px;\r\n    font-size: 12px;\r\n  }\r\n  .bottom>div:first-child {\r\n    float: left;\r\n    margin-left: 20px;\r\n    cursor: pointer;\r\n  }\r\n  .bottom>div:last-child {\r\n    position: relative;\r\n    float: right;\r\n    margin-right: 10px;\r\n    cursor: pointer;\r\n    color: #0abde3;\r\n  }\r\n\r\n  .prop {\r\n    width: 128px;\r\n    position: absolute;\r\n    background: #fff;\r\n    box-shadow: 1px 2px 3px rgba(0,0,0,.2);\r\n    right: 10px;\r\n    bottom: 30px;\r\n    padding: 5px 0;\r\n    display: none;\r\n  }\r\n  .prop>div {\r\n    width: 100%;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    text-align: center;\r\n  }\r\n  .prop>div:hover {\r\n    background: rgba(0,0,0,.1);\r\n  }\r\n</style>"]}]}